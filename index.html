<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="gamescripts.js"></script>
    <title>Document</title>
</head>
<body>
    <button class="player" id="rock" name="Rock">Rock</button>
    <button class="player" id="paper" name="Paper">Paper</button>
    <button class="player" id="scissors" name="Scissors">Scissors</button>


    <div class="result"></div>
    <div class="winner"></div>
    <script>
        const choice = ['Rock', 'Paper', 'Scissors'];
        let pChoice = document.querySelectorAll('.player')
        const result = document.querySelector('.result');
        const winner = document.querySelector('.winner');
        let i = 0;

        pChoice.forEach(option => {
            option.addEventListener('click', function () {
                
                rpsGame(this.innerText ,getComputerChoice(choice));
                i++;
                if (i === 10) {
                    results();
                }
            })
        });

        function results() {
            result.innerHTML = "After " + i + " games, the score is: Player " + playerPts + " - " + computerPts + " Computer";
        if(playerPts === 5 || playerPts > computerPts)  {
                    winner.innerHTML = "You won the game! Congratulations!";
                } else if (computerPts === 5 || computerPts > playerPts) {
                    winner.innerHTML = "You lost, better luck next time!";
                } else {
                    winner.innerHTML = "Draw game!";
                } 
        }


        function randomNum(num1,num2) {
            let res = Math.floor(Math.random(num1) * num2);
            return res;
        }

        function getComputerChoice(arr) {
            let cpu = arr[randomNum(0,arr.length)];
            console.log(cpu);
            return cpu;
        }
        let playerPts = 0;
        let computerPts = 0;

        function rpsGame(player, opponent) {
            let game;

            if (player.toUpperCase() == opponent.toUpperCase()) {
                game = alert("It's a draw!");
            } else if (player.toLowerCase() == "rock" && opponent.toLowerCase() == "paper") {
                game = alert("You lose, paper beats rock");
                computerPts++;
            } else if (player.toLowerCase() == "scissors" && opponent.toLowerCase() == "rock") {
                game = alert("You lose, rock beats scissor");
                computerPts++;
            } else if (player.toLowerCase() == "paper" && opponent.toLowerCase() == "scissors") {
                game = alert("You lose, scissor beats paper");
                computerPts++;
            } 
              else if (player.toLowerCase() == "rock" && opponent.toLowerCase() == "scissors") {
                game = alert("You win, rock beats scissor");
                playerPts++;
            } else if (player.toLowerCase() == "paper" && opponent.toLowerCase() == "rock") {
                game = alert("You win, paper beats rock");
                playerPts++;
            } else if (player.toLowerCase() == "scissors" && opponent.toLowerCase() == "paper") {
                game = alert("You win, scissor beats paper");
                playerPts++;
            } 
            return game;
        }

    </script>
</body>
</html>